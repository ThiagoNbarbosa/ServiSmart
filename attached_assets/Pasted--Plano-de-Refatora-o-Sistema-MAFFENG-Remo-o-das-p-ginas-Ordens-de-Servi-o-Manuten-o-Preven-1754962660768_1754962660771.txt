ğŸ”§ Plano de RefatoraÃ§Ã£o - Sistema MAFFENG
RemoÃ§Ã£o das pÃ¡ginas: Ordens de ServiÃ§o + ManutenÃ§Ã£o Preventiva
ğŸ“‹ OBJETIVO
Simplificar o sistema mantendo apenas a pÃ¡gina Ordens Preventivas que jÃ¡ possui:

âœ… Sistema FlexibleExcelReader (detecÃ§Ã£o automÃ¡tica de colunas)
âœ… ImportaÃ§Ã£o inteligente de planilhas RAT
âœ… Interface otimizada para manutenÃ§Ã£o preventiva


ğŸ—‚ï¸ ARQUIVOS PARA REMOVER
Frontend (client/src/pages/)
bash# PÃ¡ginas a serem removidas
âŒ work-orders.tsx           # PÃ¡gina de Ordens de ServiÃ§o
âŒ preventive-maintenance.tsx # PÃ¡gina de ManutenÃ§Ã£o Preventiva

# Manter apenas:
âœ… preventive-orders.tsx     # PÃ¡gina de Ordens Preventivas (NOVA)
Componentes relacionados (se existirem)
bash# Verificar e remover se necessÃ¡rio:
âŒ client/src/components/work-orders/
âŒ client/src/components/preventive-maintenance/
âŒ client/src/components/StatusChart.tsx (se usado apenas no dashboard)
âŒ client/src/components/TrendChart.tsx (se usado apenas no dashboard)
Backend (server/src/)
bash# Rotas a serem removidas
âŒ routes/work-orders.ts
âŒ routes/preventive-maintenance.ts

# Manter apenas:
âœ… routes/preventive-orders.ts  # Rotas das Ordens Preventivas

# Schemas do banco (verificar)
âŒ schemas/work-orders.ts (se diferente de preventive-orders)
âŒ schemas/preventive-maintenance.ts

ğŸ”„ ARQUIVOS PARA ATUALIZAR
1. Sidebar Navigation
Arquivo: client/src/components/Sidebar.tsx ou similar
ANTES:
jsxğŸ“Š Dashboard
ğŸ“‹ Ordens de ServiÃ§o      â† REMOVER
ğŸ”§ ManutenÃ§Ã£o Preventiva  â† REMOVER  
ğŸ“‹ Ordens Preventivas    â† MANTER
ğŸ‘¥ Equipe
ğŸ“Š RelatÃ³rios
âš™ï¸ GestÃ£o
DEPOIS:
jsxğŸ“Š Dashboard
ğŸ“‹ Ordens Preventivas    â† ÃšNICA pÃ¡gina de manutenÃ§Ã£o
ğŸ‘¥ Equipe
ğŸ“Š RelatÃ³rios
âš™ï¸ GestÃ£o
2. Roteamento
Arquivo: client/src/App.tsx ou router.tsx
REMOVER:
jsx<Route path="/work-orders" element={<WorkOrders />} />
<Route path="/preventive-maintenance" element={<PreventiveMaintenance />} />
MANTER:
jsx<Route path="/preventive-orders" element={<PreventiveOrders />} />
3. Dashboard - Simplificar mÃ©tricas
Arquivo: client/src/pages/dashboard.tsx
ATUALIZAR KPIs para focar apenas em Ordens Preventivas:
jsx// ANTES: 4 KPIs genÃ©ricos
[ğŸ“‹ Total OS] [â³ Pendentes] [âœ… ConcluÃ­das] [ğŸ“ˆ Taxa]

// DEPOIS: KPIs especÃ­ficos para Preventivas
[ğŸ”§ Total Preventivas] [ğŸ“… Agendadas] [âœ… Executadas] [ğŸ“Š EficiÃªncia]
4. APIs do Dashboard
Arquivo: server/src/routes/dashboard.ts
ATUALIZAR endpoints:
typescript// Focar apenas em dados de Ordens Preventivas
GET /api/dashboard/preventive-metrics
GET /api/dashboard/preventive-status-distribution
GET /api/dashboard/preventive-monthly-trends

ğŸ¨ MELHORIAS NA PÃGINA ORDENS PREVENTIVAS
1. Renomear para pÃ¡gina principal
SugestÃ£o: Alterar rota de /preventive-orders para /maintenance ou /orders
2. Melhorar tÃ­tulo e descriÃ§Ã£o
jsx// ANTES
Ordens Preventivas
Gerenciar ordens de manutenÃ§Ã£o preventiva e importaÃ§Ãµes RAT

// DEPOIS  
ManutenÃ§Ã£o
Central de controle de todas as ordens de manutenÃ§Ã£o preventiva
3. Expandir funcionalidades

âœ… Manter sistema FlexibleExcelReader
â• Adicionar filtros avanÃ§ados
â• Adicionar busca por agÃªncia/tÃ©cnico
â• Adicionar export de dados
â• Adicionar detalhes da ordem (modal)


ğŸ“Š ATUALIZAR DASHBOARD
KPIs Focados em Preventivas
jsxâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ğŸ”§ TOTAL â”‚ â”‚ğŸ“… AGEND â”‚ â”‚âœ… EXECUTâ”‚ â”‚âš¡ URGENT â”‚
â”‚   0     â”‚ â”‚   0     â”‚ â”‚   0     â”‚ â”‚   0     â”‚
â”‚Prevent. â”‚ â”‚Agendadasâ”‚ â”‚Executadasâ”‚ â”‚Urgentes â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
GrÃ¡ficos EspecÃ­ficos

Status Distribution: SituaÃ§Ã£o das ordens (Agendada, Executada, Pendente, etc.)
Timeline: Ordens por data de agendamento vs execuÃ§Ã£o
TÃ©cnicos: Performance por tÃ©cnico preventivo
AgÃªncias: DistribuiÃ§Ã£o por agÃªncia


ğŸ—‚ï¸ ESTRUTURA FINAL SIMPLIFICADA
ğŸ“ MAFFENG/
â”œâ”€â”€ ğŸ“Š Dashboard (mÃ©tricas de preventivas)
â”œâ”€â”€ ğŸ”§ ManutenÃ§Ã£o (ex-Ordens Preventivas)
â”‚   â”œâ”€â”€ âœ… Sistema FlexibleExcelReader
â”‚   â”œâ”€â”€ âœ… ImportaÃ§Ã£o inteligente RAT  
â”‚   â”œâ”€â”€ âœ… Listagem de ordens
â”‚   â””â”€â”€ â• Filtros e busca
â”œâ”€â”€ ğŸ‘¥ Equipe
â”œâ”€â”€ ğŸ“Š RelatÃ³rios  
â”œâ”€â”€ âš™ï¸ GestÃ£o
â””â”€â”€ ğŸ†˜ Ajuda

ğŸš€ ORDEM DE EXECUÃ‡ÃƒO
Fase 1: PreparaÃ§Ã£o

âœ… Backup do cÃ³digo atual
âœ… Testar funcionalidades da pÃ¡gina Ordens Preventivas
âœ… Documentar dados importantes das pÃ¡ginas a remover

Fase 2: RemoÃ§Ã£o Backend

ğŸ—‘ï¸ Remover rotas antigas
ğŸ—‘ï¸ Remover schemas desnecessÃ¡rios
ğŸ”„ Atualizar APIs do dashboard

Fase 3: RemoÃ§Ã£o Frontend

ğŸ—‘ï¸ Remover pÃ¡ginas antigas
ğŸ”„ Atualizar navegaÃ§Ã£o/sidebar
ğŸ”„ Atualizar roteamento
ğŸ”„ Simplificar dashboard

Fase 4: Melhorias

â• Melhorar pÃ¡gina Ordens Preventivas
â• Adicionar funcionalidades extras
ğŸ§ª Testes finais
ğŸ“š Atualizar documentaÃ§Ã£o


âš ï¸ CUIDADOS IMPORTANTES
Dados Existentes

â— Verificar se hÃ¡ dados importantes nas tabelas a serem removidas
â— Fazer migraÃ§Ã£o de dados se necessÃ¡rio
â— Backup completo antes de remover

Testes

ğŸ§ª Testar todas as rotas apÃ³s remoÃ§Ã£o
ğŸ§ª Verificar se dashboard funciona corretamente
ğŸ§ª Validar sistema de importaÃ§Ã£o FlexibleExcelReader

DocumentaÃ§Ã£o

ğŸ“ Atualizar documentaÃ§Ã£o tÃ©cnica
ğŸ“ Atualizar capturas de tela
ğŸ“ Revisar README/manual do usuÃ¡rio


ğŸ’¡ BENEFÃCIOS DA REFATORAÃ‡ÃƒO
âœ… Simplicidade: Interface mais limpa e focada
âœ… ManutenÃ§Ã£o: Menos cÃ³digo para manter
âœ… Performance: Menos rotas e componentes
âœ… UX: Fluxo mais direto para o usuÃ¡rio
âœ… InovaÃ§Ã£o: Foco no sistema FlexibleExcelReader
âœ… EspecializaÃ§Ã£o: Sistema dedicado a manutenÃ§Ã£o preventiva

Status: ğŸ“‹ Plano pronto para execuÃ§Ã£o
Estimativa: 4-6 horas de desenvolvimento
Impacto: Alto (simplificaÃ§Ã£o significativa)